/* ======================================
   NitWikit 搜索样式
   Algolia DocSearch 适配 (Citizen 风格)
====================================== */

:root {
    --docsearch-primary-color: var(--color-progressive);
    --docsearch-text-color: var(--color-base);
    --docsearch-spacing: 12px;
    --docsearch-icon-stroke-width: 1.4;
    --docsearch-highlight-color: var(--docsearch-primary-color);
    --docsearch-muted-color: var(--color-subtle);
    --docsearch-container-background: rgba(0, 0, 0, 0.6);
    --docsearch-logo-color: var(--docsearch-primary-color);

    /* Modal */
    --docsearch-modal-width: 600px;
    --docsearch-modal-height: 600px;
    --docsearch-modal-background: var(--color-surface-0);
    --docsearch-modal-shadow: 0 0 0 1px var(--border), 0 20px 60px rgba(0,0,0,0.4);

    /* Searchbox */
    --docsearch-searchbox-height: 56px;
    --docsearch-searchbox-background: var(--color-surface-2);
    --docsearch-searchbox-focus-background: var(--color-surface-2);
    --docsearch-searchbox-shadow: none;

    /* Hit */
    --docsearch-hit-height: 64px;
    --docsearch-hit-color: var(--color-base);
    --docsearch-hit-active-color: var(--color-emphasized);
    --docsearch-hit-background: transparent;
    --docsearch-hit-shadow: none;

    /* Footer */
    --docsearch-footer-height: 44px;
    --docsearch-footer-background: var(--color-surface-0);
    --docsearch-footer-shadow: 0 -1px 0 0 var(--border);
}

[data-theme='dark'] {
    --docsearch-modal-background: #0b0d10; /* Deepest black/blue */
    --docsearch-searchbox-background: #15171b;
    --docsearch-searchbox-focus-background: #15171b;
    --docsearch-hit-background: transparent;
    --docsearch-hit-active-background: #1a1d21;
    --docsearch-footer-background: #0b0d10;
    --docsearch-key-gradient: #262b32;
    --docsearch-key-shadow: none;
    --docsearch-text-color: #b0b8c4;
    --docsearch-muted-color: #6e7681;
}

/* ======================================
   Modal Layout
====================================== */
.DocSearch-Modal {
    border-radius: 12px !important;
    overflow: hidden !important;
}

/* ======================================
   Search Bar
====================================== */
.DocSearch-SearchBar {
    padding: 16px !important;
    border-bottom: 1px solid var(--border);
}

.DocSearch-Form {
    border-radius: 8px !important;
    background-color: var(--docsearch-searchbox-background) !important;
    box-shadow: none !important;
    border: 1px solid transparent !important;
}

.DocSearch-Form:focus-within {
    border-color: var(--color-progressive) !important;
    box-shadow: 0 0 0 2px rgba(var(--color-progressive), 0.2) !important;
}

.DocSearch-Input {
    font-size: 16px !important;
    padding-left: 12px !important;
}

/* ======================================
   Results (Hits)
====================================== */
.DocSearch-Dropdown {
    padding: 0 12px !important;
}

.DocSearch-Hit {
    padding-bottom: 4px !important;
}

.DocSearch-Hit a {
    border-radius: 8px !important;
    background: transparent !important;
    box-shadow: none !important;
    border: 1px solid transparent !important;
    padding: 12px !important;
}

.DocSearch-Hit[aria-selected="true"] a {
    background-color: var(--docsearch-hit-active-background) !important;
    border-color: var(--border) !important;
}

/* Icon */
.DocSearch-Hit-icon {
    width: 32px !important;
    height: 32px !important;
    color: var(--text-secondary) !important;
}

/* Content */
.DocSearch-Hit-content-wrapper {
    margin: 0 12px !important;
}

.DocSearch-Hit-title {
    font-size: 15px !important;
    font-weight: 600 !important;
    color: var(--color-emphasized) !important;
}

.DocSearch-Hit-path {
    font-size: 13px !important;
    color: var(--color-subtle) !important;
    margin-top: 2px !important;
}

/* Action (The "Page" badge) */
.DocSearch-Hit-action {
    display: flex !important;
    color: var(--text-secondary) !important;
}

.DocSearch-Hit-action-button {
    border-radius: 4px !important;
    padding: 2px 6px !important;
    font-size: 11px !important;
    font-weight: 600 !important;
    background: var(--color-surface-2) !important;
    color: var(--text-secondary) !important;
    border: 1px solid var(--border) !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    visibility: visible !important;
}

/* ======================================
   Footer
====================================== */
.DocSearch-Footer {
    height: auto !important;
    padding: 12px 24px !important;
    background: var(--docsearch-footer-background) !important;
    box-shadow: none !important;
    border-top: 1px solid var(--border) !important;
}

.DocSearch-Commands {
    display: flex !important;
    gap: 16px !important;
}

.DocSearch-Label {
    font-size: 12px !important;
    color: var(--text-secondary) !important;
}

/* ======================================
   Button (Trigger)
   Keep it minimal as requested before
====================================== */
.DocSearch-Button {
    /* Remove fixed dimensions to allow native adaptation */
    /* width: 44px !important; */
    /* height: 44px !important; */
    padding: 0 !important;
    margin: 0 !important;
    border-radius: 50% !important;
    background: transparent !important;
    box-shadow: none !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    overflow: hidden !important;
    border: none !important;
    /* Ensure it takes full width of container if needed, or auto */
    width: 100% !important;
    height: 100% !important;
    max-width: 44px !important; /* Limit max size for icon look */
    max-height: 44px !important;
}

.DocSearch-Button:hover {
    background-color: var(--color-surface-2) !important;
}

.DocSearch-Button-Placeholder, 
.DocSearch-Button-Keys,
.DocSearch-Button-Key {
    display: none !important;
}

.DocSearch-Button-Container {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 !important;
    padding: 0 !important;
}

.DocSearch-Search-Icon {
    width: 24px !important;
    height: 24px !important;
    color: var(--text-secondary);
}
