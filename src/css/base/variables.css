/* ======================================
   Citizen Skin Variables for NitWikit
   Based on MediaWiki Citizen Skin
====================================== */

:root {
    /* ======================================
       Citizen: Primary Color (OKLCH)
       Default: Purple-ish from documentation example
    ====================================== */
    --color-progressive-oklch__l: 53.25%;
    --color-progressive-oklch__c: 0.1679;
    --color-progressive-oklch__h: 262.29;

    --color-progressive: oklch(
        var(--color-progressive-oklch__l)
        var(--color-progressive-oklch__c)
        var(--color-progressive-oklch__h)
    );

    /* ======================================
       Citizen: Surface Colors (Light Mode)
    ====================================== */
    --color-surface-0: #ffffff;
    --color-surface-1: #f8f9fa;
    --color-surface-2: #eaecf0;
    --color-surface-3: #dee2e6;
    --color-surface-4: #ced4da;

    /* ======================================
       Citizen: Text Colors (Light Mode)
    ====================================== */
    --color-base: #202122;
    --color-emphasized: #000000;
    --color-subtle: #54595d;

    /* ======================================
       Citizen: Typography
    ====================================== */
    --font-family-citizen-base: 'Inter', 'Roboto', system-ui, -apple-system, sans-serif;
    --font-family-citizen-serif: 'Roboto Serif', serif;
    --font-family-citizen-monospace: 'JetBrains Mono', 'Roboto Mono', monospace;

    /* ======================================
       Citizen: Layout
    ====================================== */
    --width-layout: 1200px; /* Adjusted for Docusaurus container */

    /* ======================================
       Citizen: Recipes / Customization
    ====================================== */
    --transform-image-hover: scale(1.02);
    --backdrop-filter-frosted-glass: blur(20px) saturate(180%);
    --opacity-glass: 0.75;
    --border-radius-base: 12px;

    /* ======================================
       Docusaurus / Infima Mapping
    ====================================== */
    --ifm-color-primary: var(--color-progressive);
    
    /* Generate shades using color-mix (Modern CSS) or calc with OKLCH */
    --ifm-color-primary-dark: oklch(calc(var(--color-progressive-oklch__l) - 5%) var(--color-progressive-oklch__c) var(--color-progressive-oklch__h));
    --ifm-color-primary-darker: oklch(calc(var(--color-progressive-oklch__l) - 10%) var(--color-progressive-oklch__c) var(--color-progressive-oklch__h));
    --ifm-color-primary-darkest: oklch(calc(var(--color-progressive-oklch__l) - 15%) var(--color-progressive-oklch__c) var(--color-progressive-oklch__h));
    --ifm-color-primary-light: oklch(calc(var(--color-progressive-oklch__l) + 5%) var(--color-progressive-oklch__c) var(--color-progressive-oklch__h));
    --ifm-color-primary-lighter: oklch(calc(var(--color-progressive-oklch__l) + 10%) var(--color-progressive-oklch__c) var(--color-progressive-oklch__h));
    --ifm-color-primary-lightest: oklch(calc(var(--color-progressive-oklch__l) + 15%) var(--color-progressive-oklch__c) var(--color-progressive-oklch__h));

    --ifm-background-color: var(--color-surface-0);
    --ifm-background-surface-color: var(--color-surface-1);
    
    --ifm-font-color-base: var(--color-base);
    --ifm-heading-color: var(--color-emphasized);
    
    --ifm-font-family-base: var(--font-family-citizen-base);
    --ifm-font-family-monospace: var(--font-family-citizen-monospace);
    
    --ifm-navbar-background-color: var(--color-surface-1);
    --ifm-navbar-height: 4rem;
    
    /* Borders */
    --ifm-border-color: var(--color-surface-3);

    /* ======================================
       Missing Variables Mapping
       (Added to fix missing borders and styles)
    ====================================== */
    --border: var(--ifm-border-color);
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 12px;
    
    --bg-light: var(--color-surface-0);
    --bg-card: var(--color-surface-1);
    --bg-muted: var(--color-surface-2);
    --bg-elevated: var(--color-surface-2);

    --text-primary: var(--color-base);
    --text-secondary: var(--color-subtle);
    --text-light: var(--color-subtle);
    --text-muted: var(--color-surface-4);

    --primary: var(--color-progressive);
    --primary-dark: var(--ifm-color-primary-dark);
    --primary-text: var(--color-progressive);
    
    --primary-alpha-5: oklch(from var(--color-progressive) l c h / 0.05);
    --primary-alpha-8: oklch(from var(--color-progressive) l c h / 0.08);
    --primary-alpha-10: oklch(from var(--color-progressive) l c h / 0.1);
    --primary-alpha-border: oklch(from var(--color-progressive) l c h / 0.2);

    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    
    --transition-fast: 150ms ease;
    --transition-base: 300ms ease;

    /* Alert Colors */
    --alert-info: #2979ff;
    --alert-info-bg: rgba(41, 121, 255, 0.1);
    --alert-warning: #ff9100;
    --alert-warning-bg: rgba(255, 145, 0, 0.1);
    --alert-danger: #ff1744;
    --alert-danger-bg: rgba(255, 23, 68, 0.1);
    --alert-success: #00e676;
    --alert-success-bg: rgba(0, 230, 118, 0.1);
    --alert-note: #651fff;
    --alert-note-bg: rgba(101, 31, 255, 0.1);
}

/* ======================================
   Dark Mode Overrides
====================================== */
[data-theme='dark'] {
    /* Citizen: Surface Colors (Dark Mode) */
    --color-surface-0: #0f1216; /* Deep dark */
    --color-surface-1: #1a1e23; /* Card bg */
    --color-surface-2: #262b32;
    --color-surface-3: #343b44;
    --color-surface-4: #434c56;

    /* Citizen: Text Colors (Dark Mode) */
    --color-base: #c8ccd1;
    --color-emphasized: #ffffff;
    --color-subtle: #89919a;

    /* Adjust Primary for Dark Mode if needed */
    /* Keeping same hue/chroma but ensuring lightness is sufficient */
    --color-progressive-oklch__l: 60%; 

    --ifm-border-color: var(--color-surface-2);
    
    /* Update Mappings for Dark Mode */
    --border: var(--ifm-border-color);
    --bg-light: var(--color-surface-0);
    --bg-card: var(--color-surface-1);
    --bg-muted: var(--color-surface-2);
    --bg-elevated: var(--color-surface-3);
    
    --text-primary: var(--color-base);
    --text-secondary: var(--color-subtle);
    
    /* Alert Colors for Dark Mode (Slightly adjusted for contrast if needed) */
    --alert-info: #448aff;
    --alert-info-bg: rgba(68, 138, 255, 0.15);
    --alert-warning: #ffb74d;
    --alert-warning-bg: rgba(255, 183, 77, 0.15);
    --alert-danger: #ff5252;
    --alert-danger-bg: rgba(255, 82, 82, 0.15);
    --alert-success: #69f0ae;
    --alert-success-bg: rgba(105, 240, 174, 0.15);
    --alert-note: #b388ff;
    --alert-note-bg: rgba(179, 136, 255, 0.15);
}

/* ======================================
   Pure Black Mode (Optional Recipe)
   .citizen-feature-pure-black-clientpref-1
====================================== */
[data-theme='dark'][data-pure-black='true'] {
    --color-surface-0: #000000;
    --color-surface-1: #101010;
    --color-surface-2: #202020;
}
