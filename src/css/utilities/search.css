/* Theme Variables - Keeping these for compatibility with Algolia's structure */
:root {
  --docsearch-primary-color: var(--color-progressive);
  --docsearch-text-color: var(--color-base);
  --docsearch-spacing: 12px;
  --docsearch-icon-stroke-width: 1.4;
  --docsearch-highlight-color: var(--docsearch-primary-color);
  --docsearch-muted-color: var(--color-subtle);
  --docsearch-container-background: rgba(0, 0, 0, 0.6);
  --docsearch-logo-color: var(--docsearch-primary-color);
  --docsearch-modal-width: 600px;
  --docsearch-modal-height: 600px;
  --docsearch-modal-background: var(--color-surface-0);
  --docsearch-modal-shadow: 0 0 0 1px var(--border), 0 20px 60px rgba(0,0,0,0.4);
  --docsearch-searchbox-height: 56px;
  --docsearch-searchbox-background: var(--color-surface-2);
  --docsearch-searchbox-focus-background: var(--color-surface-2);
  --docsearch-searchbox-shadow: none;
  --docsearch-hit-height: 64px;
  --docsearch-hit-color: var(--color-base);
  --docsearch-hit-active-color: var(--color-emphasized);
  --docsearch-hit-background: transparent;
  --docsearch-hit-shadow: none;
  --docsearch-footer-height: 44px;
  --docsearch-footer-background: var(--color-surface-0);
  --docsearch-footer-shadow: 0 -1px 0 0 var(--border);
}

[data-theme='dark'] {
  --docsearch-modal-background: #0b0d10;
  --docsearch-searchbox-background: #15171b;
  --docsearch-searchbox-focus-background: #15171b;
  --docsearch-hit-active-background: #1a1d21;
  --docsearch-footer-background: #0b0d10;
  --docsearch-key-gradient: #262b32;
  --docsearch-text-color: #b0b8c4;
  --docsearch-muted-color: #6e7681;
}

/* ======================================
   Modal Layout
====================================== */
.DocSearch-Modal {
  @apply !rounded-xl !overflow-hidden !bg-[var(--docsearch-modal-background)] !shadow-[var(--docsearch-modal-shadow)];
}

/* ======================================
   Search Bar
====================================== */
.DocSearch-SearchBar {
  @apply !p-4 !border-b !border-border;
}

.DocSearch-Form {
  @apply !rounded-lg !bg-[var(--docsearch-searchbox-background)] !shadow-none !border !border-transparent focus-within:!border-progressive focus-within:!ring-2 focus-within:!ring-progressive/20;
}

.DocSearch-Input {
  @apply !text-base !pl-3;
}

/* ======================================
   Results (Hits)
====================================== */
.DocSearch-Dropdown {
  @apply !px-3;
}

.DocSearch-Hit {
  @apply !pb-1;
}

.DocSearch-Hit a {
  @apply !rounded-lg !bg-transparent !shadow-none !border !border-transparent !p-3;
}

.DocSearch-Hit[aria-selected="true"] a {
  @apply !bg-[var(--docsearch-hit-active-background)] !border-border;
}

/* Icon */
.DocSearch-Hit-icon {
  @apply !w-8 !h-8 !text-text-secondary;
}

/* Content */
.DocSearch-Hit-content-wrapper {
  @apply !mx-3;
}

.DocSearch-Hit-title {
  @apply !text-[15px] !font-semibold !text-emphasized;
}

.DocSearch-Hit-path {
  @apply !text-[13px] !text-subtle !mt-0.5;
}

/* Action (The "Page" badge) */
.DocSearch-Hit-action {
  @apply !flex !text-text-secondary;
}

.DocSearch-Hit-action-button {
  @apply !rounded !px-1.5 !py-0.5 !text-[11px] !font-semibold !bg-surface-2 !text-text-secondary !border !border-border !uppercase !tracking-wide !visible;
}

/* ======================================
   Footer
====================================== */
.DocSearch-Footer {
  @apply !h-auto !px-6 !py-3 !bg-[var(--docsearch-footer-background)] !shadow-none !border-t !border-border;
}

.DocSearch-Commands {
  @apply !flex !gap-4;
}

.DocSearch-Label {
  @apply !text-xs !text-text-secondary;
}

/* ======================================
   Button (Trigger) - Citizen Style Animated Icon
====================================== */
/* Note: navbar.css handles the main container size (w-10 h-10) and positioning */

.DocSearch-Button {
  @apply !text-text-secondary !transition-colors !overflow-visible;
}

.DocSearch-Button:hover {
  @apply !bg-surface-2 !text-text-primary;
}

/* Hide default Algolia content */
.DocSearch-Button-Container, 
.DocSearch-Button-Keys,
.DocSearch-Button-Key,
.DocSearch-Button-Placeholder,
.DocSearch-Search-Icon {
  @apply !hidden;
}

/* Custom Icon Construction */
/* We use absolute positioning to center the icon within the 40x40 button */

/* Circle Part */
.DocSearch-Button::before {
  @apply content-[''] absolute w-2.5 h-2.5 border-2 border-current rounded-full top-1/2 left-1/2 box-content transition-all;
  /* Center the circle perfectly */
  /* Shifted up-left to visually center the entire icon (circle + handle) */
  transform: translate(-50%, -50%) translate(-2px, -2px);
}

/* Handle Part */
.DocSearch-Button::after {
  @apply content-[''] absolute w-0.5 h-2 bg-current top-1/2 left-1/2 rounded-sm transition-all;
  /* Position handle relative to center */
  /* Placed at bottom-right */
  transform: translate(-50%, -50%) translate(5px, 5px) rotate(-45deg);
}

/* Hover Animation */
.DocSearch-Button:hover::after {
  @apply h-2.5; 
  /* Extend handle outwards */
  transform: translate(-50%, -50%) translate(6px, 6px) rotate(-45deg);
}
